# 关于客户机/服务器编程及其书籍推荐

从实现方法的角度上来说，我们如今所使用的大部分网络应用程序，无论是基于 Android/iOS 系统的移动端原生应用，还是基于微信/支付宝等平台的小程序，亦或是基于 Web 浏览器开发的应用程序，它们所采用的都一种被称之为客户机/服务器（即 Client/Server，简称 C/S）的分布式应用程序架构。在这种架构之下，开发者们可以选择将应用程序中需要保障数据安全或者进行高速运算的那一部分部署在服务器上，以便享用服务器的高性能配置以及能就近维护的便利。然后根据客户使用的设备或 Web 浏览器来开发相应的客户机软件，并让它来执行应用程序中需要与用户交互的那一部分任务。这样做既降低了应用程序部署与维护的成本，也在很大程度上减少了应用程序对用户那一侧的软硬件依赖。在这篇文章中，我们将聚焦基于这一架构的编程议题，并以推荐书目的形式来为读者规划在这一课题上的学习路线图，以供参考。

## C/S 架构简介

在学习基于C/S 架构的编程时，我们的首要任务就是要理清应用程序的客户机部分与服务器部分在该架构下各自所承担的任务分工。虽然在手机、手表上都搭载了多核处理器的今天，各类型计算设备的性能事实上已经日渐趋同，客户机与服务器之间的界线有时候也并非是绝对的，但从项目开发与维护的角度来说，做某种程度上的分工安排还是非常有必要的。以我个人的经验，C/S 架构之下的任务分工通常是这样的：

- 客户机部分在 C/S 架构下所承担的工作主要是与客户进行交互，其角色类似于银行的前台接待员，所以在术语上往往被称之为应用程序的“客户端”或“前端”。在通常情况下，应用程序的前端将负责渲染应用程序的用户操作界面、处理用户的操作、向服务器发送请求数据并接收来自服务器的响应数据、维持应用程序的运行状态，以求提供良好的用户体验。总而言之，这部分的开发与维护还将在很大程度上依赖于用户所在的软硬件环境。

- 服务器部分在 C/S 架构下所承担的工作主要是数据的处理和维护，其角色类似银行金库的管理人员，所以在术语上往往被称之为应用程序的“服务端”或“后端”。在通常情况下，应用程序的后端将为用户提供只有大型计算机才具备的运算能力以及安全可靠的数据库服务，它会负责存储并处理来自应用程序客户端的请求数据，然后把响应数据返回给客户端，一般用于处理较为复杂的业务逻辑，包括执行与天体物理相关的运算任务、存储海量数据等。这部分的开发和维护通常可以不依赖于用户所在的软硬件环境。

当然，所有的事情都是一体两面的，C/S 架构作为一种建构应用程序的解决方案，除了享有上述优势的同时也是存在着一些劣势的。首先，由于服务端与客户端是一对多的关系，这意味着服务端可能会需要同时处理来自成千上万个客户端的请求，这对服务器的负载能力提出了较高的要求，因此维持服务端的稳定性将会成为项目维护阶段的一大难题。其次，采用这种架构的应用程序在运行时也会严重依赖于用户所在的网络环境，一旦网络中的某个节点出了问题，例如发生防火墙屏蔽或域名劫持，整个程序就会立即陷入无法运行的尴尬境地。所以，我们开发者在使用该架构来构建应用程序时必须要想好应对这些劣势的预先安排，例如制定服务器的负载策略、设置备用服务器或备用域名等。

## 学习路线规划

### 客户端部分

首先，HTML、CSS 与 JavaScript 这三项技术是开发 C/S 架构应用程序的基础所在，所以它们的基本使用方法是读者首先要学习的基础知识。其中，HTML 是 Hyper Text Markup Language 的英文缩写，在中文里通常被译为“超文本标记语言”，它本质上是一门定义文档结构的标记语言。这门语言的主要作用是将应用程序的用户界面（包括 Web 页面）描述成一个树状的数据结构，以便于 Web 浏览器或其他客户端框架将其解析成可被 JavaScript、VBScript 等编程语言直接操作的对象模型（即 DOM）。例如，对于下面这段 HTML 代码：

```HTML
<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="UTF-8">
        <title>浏览器端JS代码测试</title>
    </head>
    <body>
        <h1>浏览器端的JavaScript</h1>
        <div id="content"></div>
    </body>
</html>
```

Web 浏览器或其他客户端框架就会根据 HTML 描述在内存中将其解析成类似图 1-1 中所示的树状数据结构：

![DOM结构](../img/1-1.png)

**图 1-1**：HTML 所描述的树状结构

这样一来，我们就只需要直接在 JavaScript 或 VBScript 代码中对该数据结构进行编程即可。另外需要说明的是，我们在这本书的所有项目中都将遵循该语言的 HTML5 标准来编写代码，该标准赋予了 HTML 强大的富媒体、富应用以及富内容的能力，是我们开发移动互联网应用的必要基础。

而 CSS 是 Cascading Style Sheets 的英文缩写，在中文里通常被译为“层叠样式表”，它本质上是一门定义 HTML 或 XML 文档样式的计算机语言、随着 HTML 可用于定义一般应用程序的用户界面。CSS 的作用领域也得到了相应的扩展。我们可以使用这门语言对用户界面中的图片、文本、按钮等元素进行像素级别的精确控制。例如，如果我们想赋予之前 HTML 代码一些外观样式，可以在其中添加一个`<style>`标签，并在标签中添加如下代码：

```CSS
body {
    color: floralwhite;
    background: black;
}

#content {
    width: 400px;
    height: 300px;
    border-radius: 14px;
    padding: 14px;
    color: black;
    background: floralwhite;
}
```

接下来，如果我们在 Web 浏览器中打开保存了这段 HTML 代码的文档，就会看到如图 1-2 所示的外观效果：

![CSS样式](../img/1-2.png)

**图 1-2**：CSS 所定义的外观效果

当然，相信有 CSS 使用经验的读者一定知道，将上述 CSS 代码保存为一个单独的`.css`文件，然后在 HTML 代码中使用`<link>`标签来引入它是一个更有利于项目维护的实践方案。我们在这里既然假设读者已经拥有了 HTML 与 CSS 的基本使用经验，就不再纠结于这些细节了。除此之外，同样需要说明的是，本书中所有项目都将遵循 CSS3 这一最新标准来定义用户界面的外观，该标准新增了圆角效果、渐变效果、图形化边界、文字阴影、透明度设置、多背景图设置、可定制字体、媒体查询、多列布局以及弹性盒模型布局等诸多更为丰富的新样式特性，有助于我们构建具有更良好用户体验的应用程序界面。

在设计之初，JavaScript 就是一门专用于操作 HTML 文档对象的编程语言，它在我们项目中的主要职责就是利用其独有的异步操作模型来响应用户的操作，然后将请求数据发送给服务端，并接收和解析来自服务端的响应数据。总而言之，应用程序界面中的功能性部分基本上是通过 JavaScript 来实现的。例如，如果我们想在之前的 HTML 文档中新增一个按钮元素，并且在用户按下该按钮之后，将以后带有“Hello JavaScript”字样的信息显示在`id`值为`content`的`<div>`元素中，就可以这样做：

```HTML
<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="UTF-8">
        <title>浏览器端JS代码测试</title>
        <style>
            body {
                color: floralwhite;
                background: black;
            }

            #content {
                width: 400px;
                height: 300px;
                border-radius: 14px;
                padding: 14px;
                color: black;
                background: floralwhite;
            }
        </style>
        <script>
            function sayHello() {
                const div = document.querySelector('#content');
                div.textContent = 'Hello JavaScript';
            }
        </script>
    </head>
    <body>
        <h1>浏览器端的JavaScript</h1>
        <div id="content"></div>
        <input type="button" value="打个招呼！" onclick="sayHello()">
    </body>
</html>
```

然后，如果我们在 Web 浏览器中打开保存了这段 HTML 代码的文档，并单击带有“打个招呼！”字样的按钮，就会看到如图 1-3 所示的效果：

![JS效果](../img/1-3.png)

**图 1-3**：JavaScript 所定义的功能效果

同样地，相信有 JavaScript 使用经验的读者也一定知道，将上述文件中的 JavaScript 代码保存为一个单独的`.js`文件，然后在 HTML 代码中使用`<script>`标签的`src`属性来引入它是一个更有利于项目维护的实践方案。我们在这里也同样不再纠结于这些细节了。另外对于本书项目要遵循的标准，我们将以目前主流的 ECMAScript6 标准（以下简称 ES6）为主。该标准为 JavaScript 新增了许多过去需要引入 jQuery 这样的第三方库才能使用到的工具，有助于我们构建功能更为强大的应用程序前端。

### 服务端部分

### 学习开发框架

## 结束语
