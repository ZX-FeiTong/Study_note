# Gatsby.js 学习笔记

这篇笔记将用于记录个人在学习 Gatsby 这个静态网站生成器的过程中所编写的代码示例与学习心得。为此，我会在`https://github.com/owlman/study_note`项目的`ProgrammingLanguage/JavaScript`目录下创建一个名为的`gatsbyjs`目录，并在该目录下设置以下两个子目录：

- `note`目录用于存放`markdown`格式的笔记。
- `code`目录则用于存放笔记中所记录的代码示例。

## 学习规划

- 学习基础：
  - 掌握与 HTML、CSS、JavaScript 相关的基础知识。
  - 了解与浏览器、服务器、数据库相关的基本知识。
  - 了解 B/S 分布式应用程序架构的基本原理。
- 学习资料：
  - 视频教程：
    - [线上课程](https://www.bilibili.com/video/BV15U4y1p7zW)
  - 线上文档：
    - [中文文档](https://www.gatsbyjs.cn/docs/quick-start/)
    - [英文文档](https://www.gatsbyjs.com/docs/quick-start/)

## 快速入门

先来搭建一个基本的项目架构，为此需执行以下步骤：

1. 在操作系统中全局安装 Gatsby CLI 脚手架工具，安装命令为：`npm install gatsby-cli  -g`。
2. 在`code`目录中使用该脚手架工具创建一个名为`01_sayHello`的项目，创建命令为：`gatsby new 01_sayHello`。
3. 进入到项目的根目录中，可观察到项目结构如下：

    ```bash
    01_sayHello
        ├── LICENSE
        ├── README.md
        ├── gatsby-browser.js
        ├── gatsby-config.js
        ├── gatsby-node.js
        ├── gatsby-ssr.js
        ├── node_modules
        ├── package-lock.json
        ├── package.json
        └── src
            ├── components
            ├── images
            ├── pages
            └── templates
    ```

4. 执行`gatsby develop`命令即可启动一个热部署的开发服务器，我们可以通过`localhost:8000`这个 URL 来访问，效果如下图所示。

    ![gatsby项目的默认模板页面](img/gatsby_start.png)

   然后，如果我们尝试修改位于`src/pages·目录下相关文件中的内容，并保存变更，用户在浏览器中看到的内容就会自动热更新。

5. 在开发工作完成之后，我们可以通过执行`gatsby build`命令来构建网站的构建生产版本，在这种情况下，Gatsby CLI将会在编译网站的过程中执行一些优化工作，并在项目根目录下生成一个`public`目录，然后在其中存放编译后得到的静态 HTML 和预加载的 JavaScript 代码包。

6. 如果我们想在本地测试网站在编译后的生产版本，可以通过执行`gatsby serve`命令来启动运行生产版本的服务器。

如果想了解 Gatsby CLI 的更多命令，可在终端中运行·gatsby --help`命令来查看该 CLI 的详细文档。如果想特别了解某个具体命令的用法，还可以通过`gatsby <命令名称> --help`形式的命令来进一步获取相关信息。例如，如果我们想了解在使用`gatsby new`命令创建新项目时可以使用那些参数，就可以这样：

```bash
$ gatsby new --help
gatsby new [rootPath] [starter]

Create new Gatsby project.

Options:
  --verbose                Turn on verbose output  [boolean] [default: false]
  --no-color, --no-colors  Turn off the color in output  [boolean] [default: false]
  --json                   Turn on the JSON logger  [boolean] [default: false]
  -h, --help               Show help  [boolean]
  -v, --version            Show the version of the Gatsby CLI and the Gatsby
package in the current project  [boolean]
```

